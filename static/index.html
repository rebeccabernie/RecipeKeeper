<!DOCTYPE html>

<!-- Originally adapted from: http://v4-alpha.getbootstrap.com/getting-started/introduction/ -->

<html lang="en">
  <head>
    <!-- Meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">

    <link rel="stylesheet" type="text/css" href="stylesheet.css">
      
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.4/css/bootstrap.min.css" crossorigin="anonymous">
  </head>
  <body>
	
	<!-- Navbar adapted from https://v4-alpha.getbootstrap.com/components/navbar/ -->
    <nav class="navbar navbar-dark bg-inverse">
        <div class="navbar-header">
            <a class="navbar-brand" href="/">Recipe Keeper</a>
        </div>
    </nav>

    <div class="container" id="addRecContainer">
        <br />
		<!-- Adapted from: http://v4-alpha.getbootstrap.com/components/forms/#textual-inputs -->
		<form id="recipeform">
		  <div class="form-group">
			<label for="name">Recipe Name</label>
			<input type="text" class="form-control" name="rname" id="rname" placeholder="Eg. French Toast" required>
          </div>
          <div class="form-group">
			<label for="name">Ingredients</label>
              <!--  Input tag doesn't support multiple rows, 
                    <textarea> solution found on http://stackoverflow.com/questions/13089182/more-than-1-row-in-input-type-textarea -->
			<textarea form ="recipeform" class="form-control" name="ing" id="ing" placeholder="Eg. Bread, eggs, sugar"required></textarea>
          </div>
          <div class="form-group">
			<label for="name">Method</label>
			<textarea form ="recipeform" class="form-control" name="method" id="method" placeholder="Eg. Whisk eggs and sugar,/n dip bread,/n fry on pan"required></textarea>
          </div>
		  
          <button type="submit" id="submit" class="btn btn-primary btn-block" float="centre">Save Recipe</button>
		 
        </form>
		<br />
    </div> <!-- end form container -->
      
    <div class="container" id="displayRec" >
		<form>
		  <div class="form-group">
            <br/>
			<label for="serveroutput">Your Recipes</label>
            <small id="recipeHelp" class="form-text text-muted">Click on a name to view a recipe in full.</small>
			<textarea class="form-control" id="serveroutput" rows="10" placeholder="You have no recipes..." readonly></textarea>
		  </div>
		</form>
    </div> <!-- end #displayRec -->
      
    <!-- User clicks on name, full recipe comes up here (hopefully)
     <div class="container" id="recFull" >
		<form>
		  <div class="form-group">
            <br/>
			<label for="serveroutput">Your Recipes</label>
            <small id="recipeHelp" class="form-text text-muted">Click on a name to view a recipe in full.</small>
			<textarea class="form-control" id="serveroutput" rows="10" placeholder="Select a recipe..." readonly></textarea>
		  </div>
		</form>
    </div> <!-- end #displayRec 
	 -->

    <!-- jQuery first, then Tether, then Bootstrap JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.0.0/jquery.min.js" integrity="sha384-THPy051/pYDQGanwU6poAc/hOdQxjnOEXzbT+OuUAFqNqFjL+4IGLBgCJC3ZOShY" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.2.0/js/tether.min.js" integrity="sha384-Plbmg8JY28KFelvJVai01l8WyZzrYWG825m+cZ0eDDS1f7d/js6ikvy1+X+guPIB" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.4/js/bootstrap.min.js" crossorigin="anonymous"></script>
      
	<script>
        // Submit
		$("#submitB").click(function(e) {
			e.preventDefault();
			
			data = {rname: $("#rname").toString(), ing: $("#ing").toString(), method: $("#method").toString()}
            
			$.post("/add", data, function(resbody){
				$("#serveroutputB").text(resbody);
			});
            
            // Import saved
            $.post("/savedRecipes", data, function(resbody){
                $("#saved").text(resbody);
            });
		});
        
        /*
          // Submit
		$("#submitB").click(function(e) {
			e.preventDefault();
			
			data = {rname: $("#rname").val(), ing: $("#ing").val(), method: $("#method").val()}
            
			$.post("/add", data, function(resbody){
				$("#serveroutputL").text(resbody);
			});
		}); */
	</script>
  </body>
</html>